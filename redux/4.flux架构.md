(Flux)['../public/flux-simple.png']

flux解决了什么问题？
解决了数据一致性的问题。
90年代的web页面，数据更新用户会刷新页面。刷新页面意味着重新请求后端数据，并渲染。
flux对react做的事情就是早期浏览器刷新时在做的事情，拿到数据，渲染到页面
react在数据变更时理论上都会刷新整个页面，就想90年代的web页面一样。
符合了resful架构的理念。

因为每次数据变更都要刷新整个页面，这是不可取的，所以出现了虚拟DOM,用来更小粒度的更新

1. flux是怎么设计数据流向的？
首先flux三个主要部分：调度程序 dispatcher ，存储 stores，视图 views （react组件）
当用户与react视图交互时，dispatcher将操作传播到 保存应用数据和业务逻辑的 各个存储区。从而更新受影响的视图。
这和声明式编程非常贴合。只负责发送更新，而无需指定如何将状态转换到试图。

2. flux特性

- 使用显式数据而不是派生数据 可以更好地保持数据一致性

- 将数据与状态分开 避免数据更新后人为的更新相关联的的多个views

- 通过防止嵌套更新来避免级联效应

问题1 flux的结构与数据流是怎么样的？

action-> dispatcher -> store -> view
这四个节点都是具有不同输入输出的独立节点。

问题2 这几个节点是什么意思？

action是包含新数据和标识类型的简单对象。
dispatcher调用在stores注册的回调。
stores发出change事件来提醒controller-views发生的变化。
controller-views 侦听这些事件，并在stores中检索数据，再调用自己的setState方法，从而重新渲染页面。

问题2.1 这几个节点怎么联系起来的？

通过action触发，dispatcher派发，stores负责通知更新，views负责执行。

灵感1：通过追踪一个action产生的影响，从而得知数据到视图之间的联系。