# node的模块机制

## node在今天的前端开发中他担任着什么角色

如今前端项目完全离不开node,
前端组件让前端开发变得快速, 比如vant组件想拿来用,
npm i vant,或者CDN方式引入
这两种引用方式下nodejs还不是必须的

直到vue/react, 可以使用脚手架工具快速构建出vue项目初始模板, 但是对于vue这种开发框架, react库提供的jsx语法, 他都是有自己编程范式, 并且对原生的DOM API都做了更高级封装, 最终目的就是让开发者直接面对业务逻辑,忽略底层调用(appendElement deleteElement)带来的心智负担.这就是jQuery思想向框架思想过渡的一个标志.

这些库和框架为了让他们的编程范式可以被HTML认识,就不得不加入编译、解析的这个流程, 这个过程是基于nodejs来完成的, 框架基于node来做,那我们开发过程使用的编程范式肯定就要向node靠拢了--我们写的都是node友好型代码

### 为什么前端框架和库都用node来编译呢?

Python Ruby PHP都有web框架,为什么还选用node, 就是因为前后端分离后, 前端流行的框架/库,肯定不会让后端来完成编写, 领域驱动设计, 前端写那就离不开js,离不开js就选nodejs,而且前端更懂前端开发过程中的痛点,写出来的东西可能比之前的框架更好用一些.

## 那首先:什么是模块? 什么是nodejs的模块

模块是modules,是node端引入js资源的一种方式, 因为浏览器可以 script 引入,node同样需要此能力

### 什么是nodejs的模块

在nodejs中
require import的这个资源就是模块资源
那这些模块资源怎么来的, 是export方法导出的
我们在所有的项目中几乎都有 node_modules,他就是我们node项目中的模块资源的唯一集合

## 我们先来看看没有nodejs模块化,这个世界是怎么样的?

  js分包后要通过script标签src属性引入模块, 这下载过程和加载优先级浏览器都帮我们处理好了.它本身属于DOM的一个用法
  node没有DOM, 那么就需要一个下载机制的替代方案,那就是require API了,前提是require的包此时此刻存在于本地磁盘中

### 这种src的方式有什么弊端

  但是deno.js使用了这种原始的加载方式
  require('https://a.module')

## 有node的模块化这个世界是怎么样的

是现在这样的,各种工具百花齐放,他们都依赖于node提供的底层文件I/O能力
