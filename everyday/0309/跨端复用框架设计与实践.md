跨端复用框架设计与实践
目标：
总结常见跨端问题
常见解决方案
业务过程中总结的通用经验
通用问题的通用解决方案
跨端的底层逻辑

过程
- 跨端是什么概念？

通过工具提供的能力，编写一次代码，实现业务层和逻辑层的复用。（RN和antmove）

- 为甚么需要跨端开发？

app端和小程序两个团队迭代需求。跨端使用一套代码解决多端，更进一步，
把 iOS App、Android App、小程序进行大一统。

- 跨端框架设计
上面明确了问题，接下来该怎么做？
  - 行业方案 
    1. 技术调研 先明确行业现状，抄作业
    2. 发现切入点 转换两个切入点：运行时 编译时
  - 整体方案设计
  3. 适配组件库 通过小程序的自定义模版实现
  4. 与主流项目的不同点：合并模版
  通过虚拟DOM生成treeData, 当页面需要更新的时候，逻辑层通过 setData 将 TreeData 传输到渲染层里，TreeData 与通用模板、合并模板和对应样式结合在一起，便可以渲染出对应的 UI。
  合并模板内容是由编译过程的 “静态编译” 转换生成的，这样的处理方式是为提升转换后的小程序性能


常见的跨端框架怎么做的？
首先分编译时 运行时两种，
编译时直接输出指定平台代码。语法限制大。
运行时通过自定义渲染器完成页面绘制。性能损耗大。

优化方案：
在编译时进行一些纯静态模版的抽象，减少运行时成本。

维护自己的DSL，再转换成各端应用。
RN适配IOS和安卓，再RN转小程序适配方案。

简明概述



小程序打包原理
目标：
小程序代码的编译过程
四个文件是怎样的组装方式？
常见跨端工具
反工程化的工具

ts过程
问题：string类型的表达式不能作为索引 obj['a']
详细：let obj:{} = { a: 1 },  return obj[key]. 报错 元素隐式具有 “any“ 类型，因为类型为 “string“ 的表达式不能用于索引类型 “Object“。
原来key值的类型不是string，在javascript中是默认给你转好的，而在Typescript中则不是，因此要么转，要么声明，要么忽略…

一个箭头，通过旋转到四个方向 只写一个img标签 封装，以后改类名只用修改这一处。